%% start of file `moderncvstylegoettingen.sty'.
%% Copyright 2008 Saikat Banerjee (bnrj.saikat@gmail.com).
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License version 1.3c,
% available at http://www.latex-project.org/lppl/.


%-------------------------------------------------------------------------------
%                identification
%-------------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{moderncvstylegoettingen}[2018/10/10 v0.0.1 modern curriculum vitae scheme: goettingen]

% head section alignment options: ``left'' (default) or ``right''
\@initializecommand{\moderncvstyleheadoptions}{}
\DeclareOption{left} {\edef\moderncvstyleheadoptions{\moderncvstyleheadoptions,left}}
\DeclareOption{right}{\edef\moderncvstyleheadoptions{\moderncvstyleheadoptions,right}}

\DeclareOption*{}% avoid choking on unknown options
\ExecuteOptions{right}
\ProcessOptions*\relax% \ProcessOptions* processes the options in the order provided (i.e., with the later ones possibly overriding the former ones), while \ProcessOptions processes them in the order of the package

%-------------------------------------------------------------------------------
%                required packages
%-------------------------------------------------------------------------------
\usepackage{tikz}

%-------------------------------------------------------------------------------
%                fonts & icons
%-------------------------------------------------------------------------------
\usepackage{amsmath}
\usepackage[T1]{fontenc}
\usepackage{charter}           %% For normal text
\usepackage{ClearSans}
\usepackage{newtxmath}         %% For math fonts

\moderncvicons{awesome}
\newcommand{\externallinksymbol}{%
    \tikz[x=1.2ex, y=1.2ex, baseline=-0.05ex]{% 
        \begin{scope}[x=1ex, y=1ex]
            \clip (-0.1,-0.1)
                --++ (-0, 1.2)
                --++ (0.6, 0)
                --++ (0, -0.6)
                --++ (0.6, 0)
                --++ (0, -1);
            \path[draw,
                line width = 0.5,
                rounded corners=0.5]
                (0,0) rectangle (1,1);
        \end{scope}
        \path[draw, line width = 0.5] (0.5, 0.5)
            -- (1, 1);
        \path[draw, line width = 0.5] (0.6, 1)
            -- (1, 1) -- (1, 0.6);
        }
    }


%-------------------------------------------------------------------------------
%                package options
%-------------------------------------------------------------------------------
\microtypesetup{tracking=true, kerning=true, spacing=true, factor=1100, stretch=10, shrink=10}


%-------------------------------------------------------------------------------
%                header, body & footer
%-------------------------------------------------------------------------------
\moderncvhead[\moderncvstyleheadoptions]{2}
\moderncvbody{1}
\moderncvfoot{1}

%-------------------------------------------------------------------------------
%                style definition
%-------------------------------------------------------------------------------
% see moderncv.cls for command declarations that needs to be implemented, e.g. \maketitle, \section, \subsections, \cvline, etc
\newcommand*{\linkstyle}[1]{{\textcolor{color1}{#1}}}
\newcommand*{\authorstyle}[1]{{\scshape\textcolor{color2}{#1}}}

% lengths
%\newlength{\quotewidth}
%\newlength{\hintscolumnwidth}
%\setlength{\hintscolumnwidth}{0.185\textwidth}
%\newlength{\separatorcolumnwidth}
%\setlength{\separatorcolumnwidth}{0.025\textwidth}
%\newlength{\maincolumnwidth}
%\newlength{\doubleitemmaincolumnwidth}
%\newlength{\listitemsymbolwidth}
%\settowidth{\listitemsymbolwidth}{\listitemsymbol}
%\newlength{\listitemmaincolumnwidth}
%\newlength{\listdoubleitemmaincolumnwidth}
%
%% commands
%\renewcommand*{\recomputecvlengths}{%
%  \setlength{\quotewidth}{0.65\textwidth}%
%  % main lenghts
%  \setlength{\maincolumnwidth}{\textwidth-\separatorcolumnwidth-\hintscolumnwidth}%
%  % listitem lengths
%  \setlength{\listitemmaincolumnwidth}{\maincolumnwidth-\listitemsymbolwidth}%
%  % doubleitem lengths
%  \setlength{\doubleitemmaincolumnwidth}{\maincolumnwidth-\hintscolumnwidth-\separatorcolumnwidth-\separatorcolumnwidth}%
%  \setlength{\doubleitemmaincolumnwidth}{0.5\doubleitemmaincolumnwidth}%
%  % listdoubleitem lengths
%  \setlength{\listdoubleitemmaincolumnwidth}{\maincolumnwidth-\listitemsymbolwidth-\separatorcolumnwidth-\listitemsymbolwidth}%
%  \setlength{\listdoubleitemmaincolumnwidth}{0.5\listdoubleitemmaincolumnwidth}%
%  % fancyhdr lengths
%  \renewcommand{\headwidth}{\textwidth}%
%  % regular lengths
%  \setlength{\parskip}{0\p@}%
%}


\renewcommand*{\cventry}[7][.5em]{%
  \cvitem[#1]{#2}{%
    {\bfseries#3}%
    \ifthenelse{\equal{#4}{}}{}{, {\slshape#4}}%
    \ifthenelse{\equal{#5}{}}{}{, #5}%
    \ifthenelse{\equal{#6}{}}{}{, #6}%
    .\strut%
    \ifx&#7&%
      \else{\newline{}\begin{minipage}[t]{\linewidth}\textcolor{color2}{#7}\end{minipage}}\fi}
   }

%\renewcommand*{\cvlistitem}[2][.5em]{%
%  \cvitem[#1]{}{\listitemsymbol\begin{minipage}[t]{\listitemmaincolumnwidth}\textcolor{color2}{#2}\end{minipage}}\vspace{0.15em}
% \par\addvspace{#1}
%}

%\renewcommand*{\cvlistitem}[3][.5em]{%
%  \cvitem[#3]{#3}
%             {\listitemsymbol\begin{minipage}[t]\textcolor{color2}{#3}\end{minipage}}
%  }

%\newcommand*{\mycvlistitem}[3][.5em]{%
%  \cvitem[#1]{}
%  {\listitemsymbol~\bfseries#2}
%  \ifx&#3&%
%    \else{\newline{}\begin{minipage}[t]{\listitemcolumnwidth}{#2}\end{minipage}}
%  }

\newcommand*{\mycvlistitem}[4][.5em]{%
  \cvitem[#1]{#2}
             {#3 $\mid$ \textcolor{color2}{#4}}
  }

\newcommand*{\pubitem}[6][.5em]{%
  \cvitem[#1]{#2}
             {#3%
              \newline{}\authorstyle{#4}%
              \newline{}\href{#6}{{\large\linkstyle\externallinksymbol}~\textcolor{color2}{\small{#5}}}
             }
  }

% \newlength{\pubcolumn}
% \newcommand*{\pubitem}[6][.5em]{%
%   \setlength{\pubcolumn}{\maincolumnwidth - \separatorcolumnwidth - 10pt}
%   \begin{tabular}
%     {@{}p{\hintscolumnwidth}@{\hspace{\separatorcolumnwidth}}p{\maincolumnwidth}@{}}%
%     \raggedleft\hintstyle{#2}&
%     {#3}\\&%
%     \authorstyle{#4}\\&% 
%     \href{#6}{{\large\linkstyle\externallinksymbol}~\textcolor{color2}{\small{#5}}}\\&%
%   \end{tabular}%
%   \par%\addvspace{#1}
%   }


\endinput


%% end of file `moderncvstyleempty.sty'.
